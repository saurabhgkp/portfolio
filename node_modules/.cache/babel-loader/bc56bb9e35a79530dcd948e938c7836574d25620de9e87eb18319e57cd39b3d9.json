{"ast":null,"code":"import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport * as THREE from 'three';\nimport { useThree, useFrame } from '@react-three/fiber';\nimport { HorizontalBlurShader, VerticalBlurShader } from 'three-stdlib';\nconst ContactShadows = /*#__PURE__*/React.forwardRef((_ref, ref) => {\n  let {\n    frames = Infinity,\n    opacity = 1,\n    width = 1,\n    height = 1,\n    blur = 1,\n    far = 10,\n    resolution = 256,\n    ...props\n  } = _ref;\n  const scene = useThree(_ref2 => {\n    let {\n      scene\n    } = _ref2;\n    return scene;\n  });\n  const gl = useThree(_ref3 => {\n    let {\n      gl\n    } = _ref3;\n    return gl;\n  });\n  const shadowCamera = React.useRef();\n  const [renderTarget, planeGeometry, depthMaterial, blurPlane, horizontalBlurMaterial, verticalBlurMaterial, renderTargetBlur] = React.useMemo(() => {\n    const renderTarget = new THREE.WebGLRenderTarget(resolution, resolution);\n    const renderTargetBlur = new THREE.WebGLRenderTarget(resolution, resolution);\n    renderTargetBlur.texture.generateMipmaps = renderTarget.texture.generateMipmaps = false;\n    const planeGeometry = new THREE.PlaneBufferGeometry(width, height).rotateX(Math.PI / 2);\n    const blurPlane = new THREE.Mesh(planeGeometry);\n    const depthMaterial = new THREE.MeshDepthMaterial();\n    depthMaterial.depthTest = depthMaterial.depthWrite = false;\n\n    depthMaterial.onBeforeCompile = shader => shader.fragmentShader = shader.fragmentShader.replace('1.0 - fragCoordZ ), opacity );', '0.0 ), ( 1.0 - fragCoordZ ) * 1.0 );');\n\n    const horizontalBlurMaterial = new THREE.ShaderMaterial(HorizontalBlurShader);\n    const verticalBlurMaterial = new THREE.ShaderMaterial(VerticalBlurShader);\n    verticalBlurMaterial.depthTest = horizontalBlurMaterial.depthTest = false;\n    return [renderTarget, planeGeometry, depthMaterial, blurPlane, horizontalBlurMaterial, verticalBlurMaterial, renderTargetBlur];\n  }, [resolution, width, height]);\n  let count = 0;\n  useFrame(() => {\n    if (shadowCamera.current && (frames === Infinity || count < frames)) {\n      const initialBackground = scene.background;\n      scene.background = null;\n      scene.overrideMaterial = depthMaterial;\n      gl.setRenderTarget(renderTarget);\n      gl.render(scene, shadowCamera.current);\n      scene.overrideMaterial = null;\n      blurPlane.material = horizontalBlurMaterial;\n      blurPlane.material.uniforms.tDiffuse.value = renderTarget.texture;\n      horizontalBlurMaterial.uniforms.h.value = blur / 256;\n      gl.setRenderTarget(renderTargetBlur);\n      gl.render(blurPlane, shadowCamera.current);\n      blurPlane.material = verticalBlurMaterial;\n      blurPlane.material.uniforms.tDiffuse.value = renderTargetBlur.texture;\n      verticalBlurMaterial.uniforms.v.value = blur / 256;\n      gl.setRenderTarget(renderTarget);\n      gl.render(blurPlane, shadowCamera.current);\n      gl.setRenderTarget(null);\n      scene.background = initialBackground;\n      count++;\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"group\", _extends({}, props, {\n    ref: ref\n  }), /*#__PURE__*/React.createElement(\"mesh\", {\n    geometry: planeGeometry,\n    scale: [1, -1, 1],\n    rotation: [-Math.PI / 2, 0, 0]\n  }, /*#__PURE__*/React.createElement(\"meshBasicMaterial\", {\n    map: renderTarget.texture,\n    transparent: true,\n    opacity: opacity\n  })), /*#__PURE__*/React.createElement(\"orthographicCamera\", {\n    ref: shadowCamera,\n    args: [-width / 2, width / 2, height / 2, -height / 2, 0, far]\n  }));\n});\nexport { ContactShadows };","map":{"version":3,"names":["_extends","React","THREE","useThree","useFrame","HorizontalBlurShader","VerticalBlurShader","ContactShadows","forwardRef","ref","frames","Infinity","opacity","width","height","blur","far","resolution","props","scene","gl","shadowCamera","useRef","renderTarget","planeGeometry","depthMaterial","blurPlane","horizontalBlurMaterial","verticalBlurMaterial","renderTargetBlur","useMemo","WebGLRenderTarget","texture","generateMipmaps","PlaneBufferGeometry","rotateX","Math","PI","Mesh","MeshDepthMaterial","depthTest","depthWrite","onBeforeCompile","shader","fragmentShader","replace","ShaderMaterial","count","current","initialBackground","background","overrideMaterial","setRenderTarget","render","material","uniforms","tDiffuse","value","h","v","createElement","geometry","scale","rotation","map","transparent","args"],"sources":["/home/cliffexpc63/my example/portfolio/node_modules/@react-three/drei/core/ContactShadows.js"],"sourcesContent":["import _extends from '@babel/runtime/helpers/esm/extends';\nimport * as React from 'react';\nimport * as THREE from 'three';\nimport { useThree, useFrame } from '@react-three/fiber';\nimport { HorizontalBlurShader, VerticalBlurShader } from 'three-stdlib';\n\nconst ContactShadows = /*#__PURE__*/React.forwardRef(({\n  frames = Infinity,\n  opacity = 1,\n  width = 1,\n  height = 1,\n  blur = 1,\n  far = 10,\n  resolution = 256,\n  ...props\n}, ref) => {\n  const scene = useThree(({\n    scene\n  }) => scene);\n  const gl = useThree(({\n    gl\n  }) => gl);\n  const shadowCamera = React.useRef();\n  const [renderTarget, planeGeometry, depthMaterial, blurPlane, horizontalBlurMaterial, verticalBlurMaterial, renderTargetBlur] = React.useMemo(() => {\n    const renderTarget = new THREE.WebGLRenderTarget(resolution, resolution);\n    const renderTargetBlur = new THREE.WebGLRenderTarget(resolution, resolution);\n    renderTargetBlur.texture.generateMipmaps = renderTarget.texture.generateMipmaps = false;\n    const planeGeometry = new THREE.PlaneBufferGeometry(width, height).rotateX(Math.PI / 2);\n    const blurPlane = new THREE.Mesh(planeGeometry);\n    const depthMaterial = new THREE.MeshDepthMaterial();\n    depthMaterial.depthTest = depthMaterial.depthWrite = false;\n\n    depthMaterial.onBeforeCompile = shader => shader.fragmentShader = shader.fragmentShader.replace('1.0 - fragCoordZ ), opacity );', '0.0 ), ( 1.0 - fragCoordZ ) * 1.0 );');\n\n    const horizontalBlurMaterial = new THREE.ShaderMaterial(HorizontalBlurShader);\n    const verticalBlurMaterial = new THREE.ShaderMaterial(VerticalBlurShader);\n    verticalBlurMaterial.depthTest = horizontalBlurMaterial.depthTest = false;\n    return [renderTarget, planeGeometry, depthMaterial, blurPlane, horizontalBlurMaterial, verticalBlurMaterial, renderTargetBlur];\n  }, [resolution, width, height]);\n  let count = 0;\n  useFrame(() => {\n    if (shadowCamera.current && (frames === Infinity || count < frames)) {\n      const initialBackground = scene.background;\n      scene.background = null;\n      scene.overrideMaterial = depthMaterial;\n      gl.setRenderTarget(renderTarget);\n      gl.render(scene, shadowCamera.current);\n      scene.overrideMaterial = null;\n      blurPlane.material = horizontalBlurMaterial;\n      blurPlane.material.uniforms.tDiffuse.value = renderTarget.texture;\n      horizontalBlurMaterial.uniforms.h.value = blur / 256;\n      gl.setRenderTarget(renderTargetBlur);\n      gl.render(blurPlane, shadowCamera.current);\n      blurPlane.material = verticalBlurMaterial;\n      blurPlane.material.uniforms.tDiffuse.value = renderTargetBlur.texture;\n      verticalBlurMaterial.uniforms.v.value = blur / 256;\n      gl.setRenderTarget(renderTarget);\n      gl.render(blurPlane, shadowCamera.current);\n      gl.setRenderTarget(null);\n      scene.background = initialBackground;\n      count++;\n    }\n  });\n  return /*#__PURE__*/React.createElement(\"group\", _extends({}, props, {\n    ref: ref\n  }), /*#__PURE__*/React.createElement(\"mesh\", {\n    geometry: planeGeometry,\n    scale: [1, -1, 1],\n    rotation: [-Math.PI / 2, 0, 0]\n  }, /*#__PURE__*/React.createElement(\"meshBasicMaterial\", {\n    map: renderTarget.texture,\n    transparent: true,\n    opacity: opacity\n  })), /*#__PURE__*/React.createElement(\"orthographicCamera\", {\n    ref: shadowCamera,\n    args: [-width / 2, width / 2, height / 2, -height / 2, 0, far]\n  }));\n});\n\nexport { ContactShadows };\n"],"mappings":"AAAA,OAAOA,QAAP,MAAqB,oCAArB;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,SAASC,QAAT,EAAmBC,QAAnB,QAAmC,oBAAnC;AACA,SAASC,oBAAT,EAA+BC,kBAA/B,QAAyD,cAAzD;AAEA,MAAMC,cAAc,GAAG,aAAaN,KAAK,CAACO,UAAN,CAAiB,OASlDC,GATkD,KAS1C;EAAA,IAT2C;IACpDC,MAAM,GAAGC,QAD2C;IAEpDC,OAAO,GAAG,CAF0C;IAGpDC,KAAK,GAAG,CAH4C;IAIpDC,MAAM,GAAG,CAJ2C;IAKpDC,IAAI,GAAG,CAL6C;IAMpDC,GAAG,GAAG,EAN8C;IAOpDC,UAAU,GAAG,GAPuC;IAQpD,GAAGC;EARiD,CAS3C;EACT,MAAMC,KAAK,GAAGhB,QAAQ,CAAC;IAAA,IAAC;MACtBgB;IADsB,CAAD;IAAA,OAEjBA,KAFiB;EAAA,CAAD,CAAtB;EAGA,MAAMC,EAAE,GAAGjB,QAAQ,CAAC;IAAA,IAAC;MACnBiB;IADmB,CAAD;IAAA,OAEdA,EAFc;EAAA,CAAD,CAAnB;EAGA,MAAMC,YAAY,GAAGpB,KAAK,CAACqB,MAAN,EAArB;EACA,MAAM,CAACC,YAAD,EAAeC,aAAf,EAA8BC,aAA9B,EAA6CC,SAA7C,EAAwDC,sBAAxD,EAAgFC,oBAAhF,EAAsGC,gBAAtG,IAA0H5B,KAAK,CAAC6B,OAAN,CAAc,MAAM;IAClJ,MAAMP,YAAY,GAAG,IAAIrB,KAAK,CAAC6B,iBAAV,CAA4Bd,UAA5B,EAAwCA,UAAxC,CAArB;IACA,MAAMY,gBAAgB,GAAG,IAAI3B,KAAK,CAAC6B,iBAAV,CAA4Bd,UAA5B,EAAwCA,UAAxC,CAAzB;IACAY,gBAAgB,CAACG,OAAjB,CAAyBC,eAAzB,GAA2CV,YAAY,CAACS,OAAb,CAAqBC,eAArB,GAAuC,KAAlF;IACA,MAAMT,aAAa,GAAG,IAAItB,KAAK,CAACgC,mBAAV,CAA8BrB,KAA9B,EAAqCC,MAArC,EAA6CqB,OAA7C,CAAqDC,IAAI,CAACC,EAAL,GAAU,CAA/D,CAAtB;IACA,MAAMX,SAAS,GAAG,IAAIxB,KAAK,CAACoC,IAAV,CAAed,aAAf,CAAlB;IACA,MAAMC,aAAa,GAAG,IAAIvB,KAAK,CAACqC,iBAAV,EAAtB;IACAd,aAAa,CAACe,SAAd,GAA0Bf,aAAa,CAACgB,UAAd,GAA2B,KAArD;;IAEAhB,aAAa,CAACiB,eAAd,GAAgCC,MAAM,IAAIA,MAAM,CAACC,cAAP,GAAwBD,MAAM,CAACC,cAAP,CAAsBC,OAAtB,CAA8B,gCAA9B,EAAgE,sCAAhE,CAAlE;;IAEA,MAAMlB,sBAAsB,GAAG,IAAIzB,KAAK,CAAC4C,cAAV,CAAyBzC,oBAAzB,CAA/B;IACA,MAAMuB,oBAAoB,GAAG,IAAI1B,KAAK,CAAC4C,cAAV,CAAyBxC,kBAAzB,CAA7B;IACAsB,oBAAoB,CAACY,SAArB,GAAiCb,sBAAsB,CAACa,SAAvB,GAAmC,KAApE;IACA,OAAO,CAACjB,YAAD,EAAeC,aAAf,EAA8BC,aAA9B,EAA6CC,SAA7C,EAAwDC,sBAAxD,EAAgFC,oBAAhF,EAAsGC,gBAAtG,CAAP;EACD,CAf+H,EAe7H,CAACZ,UAAD,EAAaJ,KAAb,EAAoBC,MAApB,CAf6H,CAAhI;EAgBA,IAAIiC,KAAK,GAAG,CAAZ;EACA3C,QAAQ,CAAC,MAAM;IACb,IAAIiB,YAAY,CAAC2B,OAAb,KAAyBtC,MAAM,KAAKC,QAAX,IAAuBoC,KAAK,GAAGrC,MAAxD,CAAJ,EAAqE;MACnE,MAAMuC,iBAAiB,GAAG9B,KAAK,CAAC+B,UAAhC;MACA/B,KAAK,CAAC+B,UAAN,GAAmB,IAAnB;MACA/B,KAAK,CAACgC,gBAAN,GAAyB1B,aAAzB;MACAL,EAAE,CAACgC,eAAH,CAAmB7B,YAAnB;MACAH,EAAE,CAACiC,MAAH,CAAUlC,KAAV,EAAiBE,YAAY,CAAC2B,OAA9B;MACA7B,KAAK,CAACgC,gBAAN,GAAyB,IAAzB;MACAzB,SAAS,CAAC4B,QAAV,GAAqB3B,sBAArB;MACAD,SAAS,CAAC4B,QAAV,CAAmBC,QAAnB,CAA4BC,QAA5B,CAAqCC,KAArC,GAA6ClC,YAAY,CAACS,OAA1D;MACAL,sBAAsB,CAAC4B,QAAvB,CAAgCG,CAAhC,CAAkCD,KAAlC,GAA0C1C,IAAI,GAAG,GAAjD;MACAK,EAAE,CAACgC,eAAH,CAAmBvB,gBAAnB;MACAT,EAAE,CAACiC,MAAH,CAAU3B,SAAV,EAAqBL,YAAY,CAAC2B,OAAlC;MACAtB,SAAS,CAAC4B,QAAV,GAAqB1B,oBAArB;MACAF,SAAS,CAAC4B,QAAV,CAAmBC,QAAnB,CAA4BC,QAA5B,CAAqCC,KAArC,GAA6C5B,gBAAgB,CAACG,OAA9D;MACAJ,oBAAoB,CAAC2B,QAArB,CAA8BI,CAA9B,CAAgCF,KAAhC,GAAwC1C,IAAI,GAAG,GAA/C;MACAK,EAAE,CAACgC,eAAH,CAAmB7B,YAAnB;MACAH,EAAE,CAACiC,MAAH,CAAU3B,SAAV,EAAqBL,YAAY,CAAC2B,OAAlC;MACA5B,EAAE,CAACgC,eAAH,CAAmB,IAAnB;MACAjC,KAAK,CAAC+B,UAAN,GAAmBD,iBAAnB;MACAF,KAAK;IACN;EACF,CAtBO,CAAR;EAuBA,OAAO,aAAa9C,KAAK,CAAC2D,aAAN,CAAoB,OAApB,EAA6B5D,QAAQ,CAAC,EAAD,EAAKkB,KAAL,EAAY;IACnET,GAAG,EAAEA;EAD8D,CAAZ,CAArC,EAEhB,aAAaR,KAAK,CAAC2D,aAAN,CAAoB,MAApB,EAA4B;IAC3CC,QAAQ,EAAErC,aADiC;IAE3CsC,KAAK,EAAE,CAAC,CAAD,EAAI,CAAC,CAAL,EAAQ,CAAR,CAFoC;IAG3CC,QAAQ,EAAE,CAAC,CAAC3B,IAAI,CAACC,EAAN,GAAW,CAAZ,EAAe,CAAf,EAAkB,CAAlB;EAHiC,CAA5B,EAId,aAAapC,KAAK,CAAC2D,aAAN,CAAoB,mBAApB,EAAyC;IACvDI,GAAG,EAAEzC,YAAY,CAACS,OADqC;IAEvDiC,WAAW,EAAE,IAF0C;IAGvDrD,OAAO,EAAEA;EAH8C,CAAzC,CAJC,CAFG,EAUf,aAAaX,KAAK,CAAC2D,aAAN,CAAoB,oBAApB,EAA0C;IAC1DnD,GAAG,EAAEY,YADqD;IAE1D6C,IAAI,EAAE,CAAC,CAACrD,KAAD,GAAS,CAAV,EAAaA,KAAK,GAAG,CAArB,EAAwBC,MAAM,GAAG,CAAjC,EAAoC,CAACA,MAAD,GAAU,CAA9C,EAAiD,CAAjD,EAAoDE,GAApD;EAFoD,CAA1C,CAVE,CAApB;AAcD,CAvEmC,CAApC;AAyEA,SAAST,cAAT"},"metadata":{},"sourceType":"module","externalDependencies":[]}